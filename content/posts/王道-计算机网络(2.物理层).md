---
title: "计算机网络(2.物理层)"
subtitle: ""
date: 2023-04-08
draft: false
author: ""
authorLink: ""
description: "计算机网络-物理层相关"
keywords: ""
license: ""
comment: false
weight: 0

tags:
  - computer network
categories:
  - computer network

hiddenFromHomePage: false
hiddenFromSearch: false

summary: ""
resources:
  - name: featured-image
    src: featured-image.jpg
  - name: featured-image-preview
    src: featured-image-preview.jpg

toc:
  enable: true
math:
  enable: false
lightgallery: false
seo:
  images: []
# See details front matter: /theme-documentation-content/#front-matter
---

<!--more-->

## 物理层基本概念

1. 物理层解决如何在连接各种计算机的传输媒体上**传输数据比特流**，而不是指具体的传输媒体

2. 物理层主要任务：确定与传输媒体**接口**有关的一些特性 -> 定义标准
   - 机械特性：定义物理连接的特性，规定物理连接时所采用的规格、借口形状、**引线数目**、**引脚数量**和排列情况
   - 电气特性：规定传输二进制位时，线路上信号的**电压范围**、阻抗匹配、传输**速率**和**距离**限制等
     - e.g 某网络在物理层规定，信号的电平用+10V~15V 表示二进制 0，用-10V~-15V 表示二进制 1，电线长度限于 15m 以内
   - 功能特性：指明某条线上出现的**某一电平表示何种意义**，借口部件的信号线的用途
     - e.g 描述一个物理层借口引脚处于高电平时的含义时
   - 规程特性：（过程特性）定义各条物理线路的工作**规程和时序**的关系

</br>

## 数据通信基础知识

### 典型的数据通讯模型

![Screenshot 2023-04-06 at 3.14.12 PM.png](https://s2.loli.net/2023/04/06/LM4Z9IStVJom6vu.png)

### 数据通信相关术语

1. 通信的目的就是**传送消息**

2. **数据**：传送消息的实体，通常是有意义的符号序列

3. **信号**：数据的电气/电磁的表现，是数据在传输过程中的**存在形式**

   - 数字信号：代表消息的参数取值是离散的
   - 模拟信号：代表消息的参数值是连续的

4. **信源**：产生和发送数据的源头

5. **信宿**：接收数据的终点

6. **信道**：信号的传输媒介。一般用来表示向某一个方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接收信道
   - 传输信道：模拟信道（传送模拟信号）数字信道（传送数字信号）
   - 传输介质：无线信道 有线信道

### 三种通信方式

（从通信双方信息的交互方式看，有三种基本方式）

1. 单工通信：只有一个方向的通信而没有反方向的交互，仅需要一条信道

2. 半双工通信：通信双方都可以放松或接收信息，但任何一方都不能同时发送和接收，需要两条信道

3. 全双工通信：通信双方可以同时发送和接受信息，也需要两条信道

### 两种数据传输方式

1. 串行传输：速度慢，费用低，适合远距离

2. 并行传输：速度快，费用高，适合近距离，常用于计算机内部的数据传输

![Screenshot 2023-04-06 at 3.28.39 PM.png](https://s2.loli.net/2023/04/06/W8wjEIYLda9blCy.png)

</br>

## 码元、波特、速率、带宽

### 码元

1. 是指一个**固定时长**的**信号波形**（数字脉冲），代表不同离散数值的基本波形，是数字通信中数字信号的计量单位，这个时长内的信号称为 k 进制码元，而该时长称为码元宽度。当码元的离散状态有 M 个时（M 大于 2），此时码元为 M 进制码元

2. 1 码元可以携带多个比特的信息量。例如，在使用二进制编码时，只有两种不同的码元，一种代表 0 状态，另一种代表 1 状态

![Screenshot 2023-04-08 at 12.56.34 PM.png](https://s2.loli.net/2023/04/08/F5wXAKEy8gIO7H4.png)

### 速率、波特、带宽

1. 速率也叫数据率，是指数据的**传输速率**，表示单位时间内传输的数据量。可以用**码元传输速率**和**信息传输速率**表示

   - 注意 传输速率 和 传播速率 的不同

2. **码元传输速率**：表示单位时间内数字通信系统所传输的码元个数（也可称脉冲个数或信号变化的次数），单位是**波特（Baud）**。1 波特表示数字通信系统每秒传输一个码元。这里的码元可以是多进制的，也可以是二进制的，但码元速率与进制数无关 -> 1s 传输多少个码元

3. **信息传输速率**：别名信息速率、比特率等，表示单位时间内数字通信系统传输的二进制码元个数（即比特数），单位是比特/秒(b/s) -> 1s 传输多少个比特

- 关系：若一个码元携带 n bit 的信息量，则 M Baud 的码元传输速率所对应的信息传输速率为 M \* n bit/s

4. 带宽：表示在单位时间内从网络中的某一点到另一点所能通过的“**最高数据率**”，常用来表示网络的通信线路所能传输数据的能力。单位是 b/s （理想值）

### 练习题

![Screenshot 2023-04-08 at 1.19.32 PM.png](https://s2.loli.net/2023/04/08/tNq2TozWVUi9FMm.png)

</br>

## 奈氏标准和香农定理

### 失真

![Screenshot 2023-04-08 at 1.22.12 PM.png](https://s2.loli.net/2023/04/08/hSBQrDP9no41Neu.png)

1. 影响失真程度的因素：
   - 码元传输速率
   - 信号传输距离
   - 噪声干扰
   - 传输媒体质量

### 失真的一种现象 -- 码间串扰

![Screenshot 2023-04-08 at 1.26.40 PM.png](https://s2.loli.net/2023/04/08/CBcdpHAv9iZn3zI.png)

- 信道带宽：是信道能通过的最高频率和最低频率之差
- 码间串扰：接收端收到的信号波形失去了码元之间清晰界限的现象

### 奈氏准则（奈奎斯特定理）

奈氏准则：在理想低通（无噪声，带宽受限）条件下，为了避免码间串扰，极限码元传输速率为 2W Baud，W 是信道带宽，单位是 Hz

![Screenshot 2023-04-08 at 1.38.01 PM.png](https://s2.loli.net/2023/04/08/M4oXm2bZucLGSYI.png)

1. 在任何信道中，**码元传输的速率是有上限的**。若传输速率超过此上限，就会出现严重的码间串扰问题，使接收端对码元的完全正确识别称为不可能

2. 信道的**频带越宽**（即能通过的信号高频分量越多），就可以用更高的速率进行码元的有效传输

3. 奈氏准则给出了码元传输速率的限制，但并没有对信息传输速率给出限制

4. 由于码元的传输速率受奈氏准则的制约，所以要提高数据的传输速率，就必须设法使每个码元能携带更多个比特的信息量，这就需要采用多元制的调制方法

![Screenshot 2023-04-08 at 1.44.26 PM.png](https://s2.loli.net/2023/04/08/Ml5wAPBREGCJ7kU.png)

### 香农定理

1. **噪声**存在于所有的电子设备和通信信道中。由于噪声随机产生，它的瞬时值有时会很大，因此噪声会使接收端对码元的判决产生错误。但是噪声的影响是相对的，若信号较强，那么噪声影响相对较小。因此，信噪比就很重要

   - 信噪比=信号的平均功率 / 噪声的平均功率，常记为 S/N，并用分贝(dB)作为度量单位
   - ![Screenshot 2023-04-08 at 1.48.41 PM.png](https://s2.loli.net/2023/04/08/yPO2G7RgCLExcoa.png)

2. 香农定理：在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值
   ![Screenshot 2023-04-08 at 1.52.16 PM.png](https://s2.loli.net/2023/04/08/aJoRWEs2V3QAZGj.png)

- 信道的**带宽**或信道中的**信噪比**越大，则信息的极限传输速率就**越高**
- 对一定的传输带宽和一定的信噪比，信息传输速率的上限就确定了
- 只要信息的传输速率低于信道的极限传输速率，就一定能找到某种方法来实现**无差错的传输**
- 香农定理得出的为极限信息传输速率，实际信道能达到的传输速率要比它低不少
- 从香农定理可以看出，若信道带宽 W 或信噪比 S/N 没有上限(不可能)，那么信道的极限传输速率也就没有上限

![Screenshot 2023-04-08 at 1.59.26 PM.png](https://s2.loli.net/2023/04/08/6SbiI5ZMBnhLgwk.png)

### “Nice” 和 “香农”

1. 奈氏准则 （内忧）

- 带宽受限无噪声条件下，为了避免码间串扰，码元传输速率的上限 2W Baud

2. 香农定理（外患）

- 带宽受限有噪声条件下的信息传输速率

![Screenshot 2023-04-08 at 2.04.05 PM.png](https://s2.loli.net/2023/04/08/UoztYKCjIu1VEhS.png)

- 两个最大值中选相对较小的最大值

</br>

## 编码与调制

### 基带信号与宽带信号

1. 信道：信号的传输媒介。一般用来表示向某一个方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接收信道

- 传输信号：模拟信道（传送模拟信号）/ 数字信道（传送数字信号）
- 传输介质：无线信道 / 有线信道

2. 信道上传送的信号

- **基带信号**：将数字信号 1 和 0 直接用两种不同的电压表示，再送到**数字信道**上去传输（**基带传输**）。**来自信源**的信号，像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。基带信号就是发出的**直接表达了要传输的信息的信号**，比如我们说话的声波就是基带信号
- **宽带信号**：将基带信号进行调制后形成的频分复用模拟信号，再传送到**模拟信道**上去传输（**宽带传输**）。把基带信号经过载波调制后，把信号的频率范围搬移到较高的频段以便在信道中传输（即仅在一段频率范围内能够通过信道）
- 在传输具体较近时，计算机网络采用基带传输方式（近距离衰减小，从而信号内容不易发生变化）
- 在传输距离较远时，计算机网络采用宽度传输方式（远距离衰减大，即使信号变化大也能最后过滤出来基带信号）

### 编码与调制

![Screenshot 2023-04-08 at 2.25.11 PM.png](https://s2.loli.net/2023/04/08/Cf3OaxJqwRtNZG6.png)

### 数字数据编码为数字信号

![Screenshot 2023-04-08 at 2.28.38 PM.png](https://s2.loli.net/2023/04/08/ST7IBk9EKQNRzJO.png)

1. 非归零编码【NRZ】

- 高 1 低 0
- 编码容易实现，但没有检错功能，且无法判断一个码元的开始和结束，以至于收发双方难以保持同步

2. 归零编码【RZ】

- 信号电平在一个码元之内都要恢复到零的这种编码成编码的方式 （不推荐）

![Screenshot 2023-04-08 at 2.32.41 PM.png](https://s2.loli.net/2023/04/08/Ajb94WlrMKwQ2RP.png)

3. 反向不归零编码【NRZI】

- 信号电平翻转表示 0，信号电平不变表示 1 （不推荐）

![Screenshot 2023-04-08 at 2.34.34 PM.png](https://s2.loli.net/2023/04/08/UiEZfhSoxLGwMD9.png)

4. 曼彻斯特编码

- 综合以上的优缺点
- 将一个码元分成两个相等的间隔，前一个间隔为低电平后一个间隔为高电平表示码元 1: 码元 0 则正好相反。也可以采用相反的规定。
- 该编码的特点是在每一个码元的中间出现电平跳变，位中间的跳变既作时钟信号（可用于同步），又作数据信号，但它所占的频带宽度是原始的基带宽度的两倍
- 每一个码元都被调成两个电平，所以数据传输速率只有调制速率的 1/2

5. 差分曼彻斯特编码

- 同 1 异 0
- 常用于局域网传输，其规则是：若码元为 1，则前半个码元的电平与上一个码元的后半个码元的电平相同，若为 0，则相反。
- 该编码的特点是，在每个码元的中间，都有一次电平的跳转，可以实现自同步，且抗干扰性强于曼彻斯特编码

2. 4B/5B 编码

- 比特流中插入额外的比特以打破一连串的 0 或 1，就是用 5 个比特来编码 4 个比特的数据，之后再传给接收方，因此称为 4B/5B。**编码效率为 80%**
- 只采用 16 种对应 16 种不同的 4 位码，其他的 16 种作为控制码（帧的开始和结束，线路的状态信息等）或保留

### 数字数据调制为模拟信号

数字数据调制技术在发送端将数字信号转换为模拟信号，而在接收端将模拟信号还原为数字信号，分别对应于调制解调器的调制和解调过程

![Screenshot 2023-04-08 at 2.55.47 PM.png](https://s2.loli.net/2023/04/08/zSga3kGACxeiHKu.png)

### 模拟数据编码为数字信号

计算机内部处理的是二进制数据，处理的都是数字音频，所以需要将模拟音频通过采样、量化转换成有限个数字表示的离散序列（即实现**音频数字化**）

最典型的例子就是对音频信号进行编码的**脉码调制（PCM）**，在计算机应用中，能够达到**最高保真水平**的就是 PCM 编码，被广泛用于素材保存及音乐欣赏，CD / DVD 以及我们常见的 WAV 文件中均有应用。它主要包括三步：抽样、量化、编码

1. 抽样：对模拟信号周期性扫描，把时间上连续的信号变成时间上离散的信号。为了使所得的离散信号能无失真地代表被抽样的模拟数据。要使用**采样定理**进行采样：f 采样频率 >= 2f 信号最高频率

2. 量化：把抽样取得的电平幅值按照一定的分级标度转化为对应的数字值，并取整数，这就把连续的电平幅值转换为离散的数字量

3. 编码：把量化的结果转换为与之对应的二进制编码
   ![Screenshot 2023-04-08 at 3.04.22 PM.png](https://s2.loli.net/2023/04/08/amgABLZUeFMlnvY.png)

### 模拟数据调制为模拟信号

为了实现传输有效性，可能需要较高的频率。这种调制方式还可以使用频分复用技术，充分利用带宽资源。在电话机和本地交换机所传输的信号是采用模拟信号传输拟数据的方式：模拟的声音数据是加载到模拟的载波信号中传输的

![Screenshot 2023-04-08 at 3.10.24 PM.png](https://s2.loli.net/2023/04/08/C3vIylinEZD64dm.png)

</br>

## 物理层传输介质

1. 传输介质也称传输媒体 / 传输媒介，它就是数据传输系统中在发送设备和接收设备之间的物理通路

2. 传输介质并不是物理层

   - 传输介质在物理层的下面，因为物理层是体系结构的第一层，因此有时称传输介质为 0 层
   - 在传输介质中传输的是信号，但传输介质并不知道所传输的信号代表什么意思
   - 但物理层规定了电气特性，因此能够识别所传送的比特流

3. 传输介质
   - 导向性传输介质：电磁波被导向沿着固体媒介（铜线/光纤）传播
   - 非导向性传输介质：自由空间，介质可以是空气、真空、海水等

### 导向性传输介质 -- 1.双绞线

![Screenshot 2023-04-08 at 4.38.49 PM.png](https://s2.loli.net/2023/04/08/wAPTbjSIK6f2mt7.png)

1. 双绞线是古老、又常用的传输介质，它由两根采用一定规则并排绞合的、相互绝缘的铜导线组成

2. 绞合可以减少对相邻导线的电磁干扰

3. 为了进一步提高抗电磁干扰功能，可在双绞线的外面再加上一个由金属丝编织成的屏蔽层，这就是屏蔽双绞线（STP），无屏蔽层的双绞线就称为非屏蔽双绞线（UTP）

4. 双绞线价格便宜，是最常用的传输介质之一，在局域网和传统电话网中普遍使用。**模拟传输和数字传输都可以使用双绞线**，其通信距离一般为几公里到数十公里。距离太远，对于**模拟传播**，要用**放大器**放大衰减的信号；对于**数字传输**，要用**中继器**将失真的信号整形

### 导向性传输介质 -- 2.同轴电缆

![Screenshot 2023-04-08 at 4.45.40 PM.png](https://s2.loli.net/2023/04/08/gnexJZNEwGVij4U.png)

1. 同轴电缆由**导体铜质芯线**、**绝缘层**、**网状编制屏蔽层**和**塑料外层**构成

2. 按特性阻抗数值的不同，通常将同轴电缆分为两类：50Ω 同轴电缆和 70Ω 同轴电缆

3. 其中，50Ω 同轴电缆主要用于传送基带数字信号，又称为**基带同轴电缆**，它在局域网中得到广泛应用：75Ω 同轴电缆主要用于传送宽带信号，又称为**宽带同轴电缆**，它主要用于有线电视系统

### 同轴电缆 vs 双绞线

由于外导体屏蔽层的作用，同轴电缆抗干扰特性比双绞线好，被广泛用于传输较高速率的数据，其传输距离更远，但价格较双绞线贵

### 导向性传输介质 -- 3.光纤

1. 光纤通信就是利用光导纤维（简称光纤）传递**光脉冲**来进行通信。由光脉冲表示 1，无光脉冲表示 0。而可见光的频率大约是 10 八次方 Mz，因此光纤通信系统的**带宽远远大于**目前其他各种传输媒体的带宽

   - 光纤在发送端有光源，可以采用发光二极管或半导体激光器，它们在电脉冲作用下能产生出光脉冲：在接收端用光电二极管做成光检测器，在检测到光脉冲时可还原出电脉冲

2. 光纤主要由纤芯（实心的！）和包层构成，光波通过纤芯进行传导，包层较纤芯有较低的折射率。当光纤从高折射率的介质射向低折射率的介质时，其折射角将大于入射角。因此，如果入射角足够大，就会出现全反射，即光纤碰到包层时候就会折射会纤芯、这个过程不断重复，光也就沿着光纤传输下去

![Screenshot 2023-04-08 at 4.54.44 PM.png](https://s2.loli.net/2023/04/08/hP7z98GewiUtWVL.png)

![Screenshot 2023-04-08 at 5.21.01 PM.png](https://s2.loli.net/2023/04/08/fKHTUpVqN3zoQXd.png)

3. 光纤的特点
   - 传输损耗小，中继距离长，对远距离传输特别经济
   - 抗雷点和电磁干扰性能好
   - 无串音干扰，保密性好，也不易被窃听或截取数据
   - 体积小，重量轻

### 非导向性传输介质

![Screenshot 2023-04-08 at 5.26.31 PM.png](https://s2.loli.net/2023/04/08/r6YdRSOFeho5AT9.png)

</br>

## 物理层设备

### 中继器

**诞生原因**：由于存在损耗，在线路上传输的信号功率会逐渐衰减，衰减到一定程度时将造成信号失真，因此会导致接收错误

**中继器的功能**：对信号进行再生和还原，对衰减的信号进行放大，保持与原数据相同，以增加信号传输的距离，延长网络的长度

**中继器的两端**：

- 两端的网络部分是网段，而不是子网，适用于完全相同的两类网络的互连，且两个网段速率要相同
- 中继器只将任何电缆段上的数据发送到另一电缆上，它仅作用于信号的电气部分，并不管数据中是两端可连相同媒体，也可连不同媒体
- 中继器两端的网段一定要是同一个协议

**5-4-3 规则**：网络标准中都对信号的延迟范围作了具体的规定，因而中继器只能在规定的范围内进行，否则会网络故障

![Screenshot 2023-04-08 at 5.36.49 PM.png](https://s2.loli.net/2023/04/08/4SJ9jI2mLWEuiFP.png)

### 集线器（多口中继器）

**集线器的功能**：对信号进行再生**放大转发**，对衰减的信号进行放大，接着转发到其他所有（除输入端口外）处于工作状态的端口上，以增加信号传输的距离，延长网络的长度。不具备信号的定向传送能力，是一个共享式设备

![Screenshot 2023-04-08 at 5.43.11 PM.png](https://s2.loli.net/2023/04/08/Egr1yqmxVZ93ndH.png)

</br>
